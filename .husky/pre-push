echo "ğŸ” Running production build check before push..."
echo "ğŸ“¦ Initializing git submodules..."
git submodule update --init --recursive
FORCE_COLOR=0 TURBO_UI=stream pnpm build:prod

if [ $? -ne 0 ]; then
  echo "âŒ Production build failed - push aborted"
  echo "ğŸ’¡ Fix the build issues and try again"
  exit 1
fi

echo "âœ… Production build successful - proceeding with push"