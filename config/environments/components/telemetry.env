# DASH0 telemetry configuration  
# Two distinct base URLs per DASH0 docs:
# - API base (api.us-west-2): For management operations (dashboards, rules, metrics API)  
# - OTLP base (ingress.us-west-2): For telemetry data ingestion (traces, metrics, logs)
NAMESPACE=TELEMETRY

[default]
# Dash0 Configuration
DASH0_ENABLED=true
DASH0_AUTH_TOKEN=${DASH0_AUTH_TOKEN}
DASH0_ENDPOINT=${DASH0_OTLP_BASE_URL}
DASH0_BATCH_SIZE=20
DASH0_FLUSH_INTERVAL=5000

# Legacy configuration for other OTEL collectors
DASH0_ENDPOINT=${DASH0_OTLP_BASE_URL}
DASH0_LOGS_ENDPOINT=${DASH0_OTLP_BASE_URL}/v1/logs
DASH0_TRACES_ENDPOINT=${DASH0_OTLP_BASE_URL}/v1/traces
DASH0_METRICS_ENDPOINT=${DASH0_OTLP_BASE_URL}/v1/metrics
OTEL_ENABLED=true
LOGS=false
OTEL_COLLECTOR_TRACES_ENDPOINT=http://localhost:4318/v1/traces
OTEL_COLLECTOR_METRICS_ENDPOINT=http://localhost:4318/v1/metrics
OTEL_SERVICE_NAME=emp-service
OTEL_SERVICE_VERSION=1.0.0

# Collector
STREAM_KEY=telemetry:events
CONSUMER_GROUP=telemetry-collectors
CONSUMER_NAME=collector-1
BATCH_SIZE=10
BLOCK_TIME=5000

OUTPUT_FORMAT=console  # console | otel | both
PROCESSOR_BATCH_SIZE=50
FLUSH_INTERVAL=10000

STATS_INTERVAL=60000
COLLECTOR_HEALTH_CHECK=true
OTLP_PORT=4318
HEALTH_PORT=3334

[localdocker]
DASH0_DATASET=development
REDIS_URL=redis://host.docker.internal:6379
OTEL_COLLECTOR_URL=http://host.docker.internal:4318
OTEL_COLLECTOR_LOCAL_URL=http://localhost:4318

[local]
DASH0_DATASET=testrunner
REDIS_URL=redis://localhost:6379
OTEL_COLLECTOR_URL=http://localhost:43189
OTEL_COLLECTOR_LOCAL_URL=http://localhost:43189
OTLP_PORT=43189
HEALTH_PORT=33349


[remotedev]
DASH0_DATASET=development
REDIS_URL=NGROK
OTEL_COLLECTOR_URL=NGROK
OTEL_COLLECTOR_LOCAL_URL=NGROK

[remoteprod]
DASH0_DATASET=production
REDIS_URL=redis://default:${PRODUCTION_REDIS_PASSWORD}@ballast.proxy.rlwy.net:30645
OTEL_COLLECTOR_URL=PROD
OTEL_COLLECTOR_LOCAL_URL=PROD