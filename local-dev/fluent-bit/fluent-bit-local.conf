# Local Fluent Bit Configuration for Development
[SERVICE]
    Flush 1
    Log_Level debug
    Daemon off

# Monitor local log files
[INPUT]
    Name tail
    Tag api.logs
    Path ./logs/api.log
    Skip_Long_Lines On
    Skip_Empty_Lines On
    Refresh_Interval 1
    Read_from_Head On

# Add metadata
[FILTER]
    Name record_modifier
    Match api.*
    Record service_name emp-api
    Record service_version dev
    Record service_type api-server
    Record environment local-dev
    Record source fluent-bit-file-tail

# Output 1: Forward to existing Fluentd container
[OUTPUT]
    Name forward
    Match api.*
    Host localhost
    Port 24224
    
# Output 2: Debug to stdout (always works)
[OUTPUT]
    Name stdout
    Match api.*
    Format json_lines